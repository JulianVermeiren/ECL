(function(){function e(e){function t(e,t){let n=e.slice(2,e.length);return n.unshift(t),n}function l(e){let t="| TEAM_2 ";for(let n in h[0])e.includes(h[0][n])&&(t="| TEAM_1 ");return t}o=e.split("\n").map(e=>e.split(": ")),r=o.findIndex(e=>e[1].includes("[FACEIT^] LIVE!")),s=o.slice(0,r),m=o.slice(r,o.length);const x=(e,t)=>e.reduce((e,n,l)=>n[1].includes(t)?[...e,l]:e,[]),R=e=>e[0].includes("<STEAM_1")&&(e[0].includes("<TERRORIST>")||e[0].includes("<CT>"))?e:R(t(e,e[0].concat(e[1]))),y=e=>R(String(e).split(/\"(.*?)\"/g).filter(e=>String(e).trim())),k=e=>String(e).split(/\<(.*?)\>/g).filter(e=>String(e).trim());h=m.slice(0,x(m,"switched from team <CT> to <TERRORIST>")[0]<x(m,"switched from team <TERRORIST> to <CT>")[0]?x(m,"switched from team <CT> to <TERRORIST>")[0]:x(m,"switched from team <TERRORIST> to <CT>")[0]),h=h.filter(e=>e[1].includes("<STEAM_1")&&!e[1].includes("<Spectator>")&&!e[1].includes("<BOT>")&&!e[1].includes("<Unassigned>")&&(e[1].includes("<TERRORIST>")||e[1].includes("<CT>"))&&void 0!==y(e[1])[1]),h=h.filter(e=>!y(e[1])[1].includes("say")),h=h.map(e=>[e[0],e[1].replace("<"+k(y(e[1])[0])[1]+">","")]),h=h.map(e=>y(e[1])[0]),h=[...new Set(h.filter(e=>String(e).trim()))];const v=e=>{const t=e.filter(e=>"<"+k(y(e))[2]+">"=="<CT>"),n=e.filter(e=>"<"+k(y(e))[2]+">"=="<TERRORIST>");return[t,n]};h=v(h),h=h.map(e=>e.map(e=>e.replace(e.substring(e.indexOf("<"),e.lastIndexOf(">")+1),"")));let w=0,S=x(m,'"Round_End"');for(let e=0;e<S.length;e++)p.push(m.slice(w,S[e])),w=S[e],f.push(m[S[e]+1][1].replace("[FACEIT^] ","")),S.length-1==e&&(u=m.slice(S[e],m.length));p.forEach(e=>E.push(e.filter(e=>!!e[1].includes("say")))),p.forEach(e=>g.push(e.filter(e=>{e[1].split(" attacked ")[0];let t=e[1].split(" attacked ")[1];return void 0!==t&&!!(e[1].split(" attacked ")[0].includes("<CT>")&&e[1].split(" attacked ")[1].includes("<CT>")||e[1].split(" attacked ")[0].includes("<TERRORIST>")&&e[1].split(" attacked ")[1].includes("<TERRORIST>"))}))),T=u.filter(e=>e[1].includes("say")),b=s.filter(e=>e[1].includes("say")),E=E.map(e=>e.map(e=>[e[0],e[1].replace(e[1].slice(y(e[1])[0].indexOf("<")+1,y(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"])),T=T.map(e=>[e[0],e[1].replace(e[1].slice(y(e[1])[0].indexOf("<")+1,y(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"]),b=b.map(e=>[e[0],e[1].replace(e[1].slice(y(e[1])[0].indexOf("<")+1,y(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"]);let C=document.createElement("div"),A=document.createElement("div");A.innerText="PREGAME\n";let O=document.createElement("div");O.style="border: black solid;margin: 10px;";let I=document.createElement("div");I.innerText="POSTGAME\n";const M=(...e)=>e.forEach(e=>e.setAttribute("class","divECL")),L=(e,t)=>e.setAttribute("style",`display:inline;background-color:${"CT"===t?"royalblue":"indianred"};margin-left: 10px;`),$=e=>e.setAttribute("class","time");document.open(),document.write(`<h1>${E.length} ROUNDS FOUND</h1>`),M(A,I),C.style="background-color:#212529;padding:5px",document.body.append(C,A,O,I),i=new Map,a=new Map,d=new Map,c=new Map,h.forEach(e=>e.forEach(e=>i[`${e}`]=o.filter(t=>t[1].includes("say")&&t[1].includes(e)).map(e=>[e[0],e[1].replace(e[1].slice(y(e[1])[0].indexOf("<")+1,y(e[1])[0].lastIndexOf(">")+2),"")]))),h.forEach(e=>e.forEach(e=>a[`${e}`]=m.filter(t=>!t[1].includes("] was killed ")&&!t[1].includes("] killed other")&&t[1].includes("] killed")&&t[1].split('"')[1].includes(e)).map(e=>[e[0],e[1]]))),h.forEach(e=>e.forEach(e=>d[`${e}`]=m.filter(t=>!t[1].includes("] was killed ")&&!t[1].includes("] killed other")&&t[1].includes("] killed")&&t[1].split('"')[3].includes(e)).map(e=>[e[0],e[1]]))),h.forEach(e=>e.forEach(e=>d[`${e}`]=d[`${e}`].concat(m.filter(t=>t[1].includes("] was killed by the bomb.")&&t[1].split('"')[1].includes(e)).map(e=>[e[0],e[1]])))),h.forEach(e=>e.forEach(e=>c[`${e}`]=a[`${e}`].filter(e=>e[1].split(" killed ")[0].includes("<CT>")&&e[1].split(" killed ")[1].includes("<CT>")||e[1].split(" killed ")[0].includes("<TERRORIST>")&&e[1].split(" killed ")[1].includes("<TERRORIST>")))),h.forEach((e,t)=>{let l=document.createElement("table");var r=document.createElement("thead"),o=document.createElement("tbody"),s=document.createElement("th"),m=document.createElement("th"),p=document.createElement("th"),u=document.createElement("th"),E=document.createElement("th"),T=document.createElement("th");let b=document.createElement("tr");s.innerText="PLAYERS",m.innerText="#MESSAGES",p.innerText="TEAMDAMAGES",u.innerText="KILLS",E.innerText="DEATHS",T.innerText="TEAMKILLS",b.append(s,u,E,T,p,m),r.append(b),l.append(r),l.classList.add("table","table-dark"),e.forEach(e=>{let t=document.createElement("tr"),n=0;g.forEach(t=>t.forEach(t=>{t[1].split(" attacked ")[0].includes(e)&&n++}));var r=document.createElement("td"),s=document.createElement("td"),m=document.createElement("td"),p=document.createElement("td"),u=document.createElement("td"),E=document.createElement("td");r.innerText=e,s.innerText=i[`${e}`].length,m.innerText=n,p.innerText=a[`${e}`].length-2*c[`${e}`].length,u.innerText=d[`${e}`].length,E.innerText=c[`${e}`].length,t.append(r,p,u,E,m,s),o.append(t),l.appendChild(o),t.setAttribute("class","liCursor"),t.onclick=function(){let e=document.createElement("div");window.onclick=function(t){t.target==e&&e.remove()};let t=document.createElement("span");t.setAttribute("class","close"),t.onclick=function(){e.remove()},t.innerText="X";let n=document.createElement("div");n.setAttribute("class","modalContent"),e.append(n),n.append(t),e.setAttribute("class","modalECL");let l=document.createElement("a");if(l.href=`https://www.faceit.com/en/players/${r.innerText}`,l.target="_blank",l.innerText="FACEIT LINK\n",n.append(l),i[`${r.innerText}`].length>0)i[`${r.innerText}`].forEach(e=>{let t=document.createElement("p");t.innerHTML=e[1]+"\n",t.setAttribute("style","display:inline;");let l=document.createElement("br");n.append(t,l)});else{let e=document.createElement("p");e.innerText="NOTHING TO SEE #EMPTY",n.append(e)}let a=document.createElement("br");n.append(a),g.forEach(e=>e.forEach(e=>{if(e[1].split(" attacked ")[0].includes(r.innerText)){let t=document.createElement("div");t.classList.add("divider");let l=document.createElement("p");l.innerHTML=e[1]+"\n",l.setAttribute("style","display:inline;color:RED;"),n.append(l,t)}})),c[`${r.innerText}`].forEach(e=>{let t=document.createElement("div");t.classList.add("divider");let l=document.createElement("p");l.innerHTML=e[1]+"\n",l.setAttribute("style","display:inline;color:GREEN;"),n.append(l,t)}),document.body.append(e)}}),C.append(l),n(l)}),b.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let n=document.createElement("p");n.innerText=e[1],L(n,e[2]),A.append(t,n)}),E.forEach((e,t)=>{let n=document.createElement("div");if(n.innerText="ROUND "+(t+1)+" || "+f[t]+"\n",n.setAttribute("class","divChatPerRound"),e.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let r=document.createElement("p"),i=document.createElement("p");i.innerText=l(e[1]),$(i),r.innerText=e[1]+"\n",L(r,e[2]),n.append(t,i,r)}),0!=g[t]){let e=document.createElement("div");e.innerText="\nTEAMDAMAGE DETECTED\n",g[t].forEach(t=>{let n=document.createElement("p");n.innerText=t[0]+" ",$(n);let l=document.createElement("p");e.setAttribute("class","teamDamageDiv"),l.setAttribute("class","teamDamageText"),l.innerText=t[1],e.append(n,l)}),n.append(e)}O.append(n)}),T.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let n=document.createElement("p");n.innerText=e[1],L(n,e[2]),I.append(t,n)})}function t(){let e="body{\n            font-family: system-ui;\n            font-size: 19px;\n        }\n        \n        .close {\n            color: #aaaaaa;\n            float: right;\n            font-size: 28px;\n            font-weight: bold;\n        }\n        \n        .close:hover,\n        .close:focus {\n            color: #000;\n            text-decoration: none;\n            cursor: pointer;\n        }\n        \n        .time {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: inline;\n            background-color: yellow;\n        }\n        \n        .divECL {\n            margin: 10px;\n            border: black solid;\n            padding: 10px;\n        }\n        \n        .modalContent {\n            background-color: #fefefe;\n            margin: auto;\n            padding: 20px;\n            border: 1px solid #888;\n            width: 80%;\n        }\n        \n        .modalECL {\n            position: fixed;\n            z-index: 1;\n            padding-top: 100px;\n            padding-bottom: 100px;\n            left: 0;\n            top: 0;\n            bottom:0;\n            width: 100%;\n            overflow: auto;\n            background-color: rgb(0, 0, 0);\n            background-color: rgba(0, 0, 0, 0.4);\n        }\n        \n        .divChatPerRound {\n            padding: 10px;\n        }\n        \n        .liCursor {\n            width: max-content;\n            cursor: crosshair;\n        }\n        \n        .teamDamageDiv {\n            display: inline;\n            background-color: GREEN;\n            margin-left: 10px;\n        }\n        \n        .teamDamageText {\n            display: inline;\n            background-color: GREEN;\n            margin-left: 10px;\n        }\n        \n        .divider{\n            border-top: 6px solid red;\n            width:100%;\n        }\n        \n        \n        .table {\n            --bs-table-bg: transparent;\n            --bs-table-striped-color: #212529;\n            --bs-table-striped-bg: rgba(0, 0, 0, 0.05);\n            --bs-table-active-color: #212529;\n            --bs-table-active-bg: rgba(0, 0, 0, 0.1);\n            --bs-table-hover-color: #212529;\n            --bs-table-hover-bg: rgba(0, 0, 0, 0.075);\n            width: 75%;\n            margin-bottom: 1rem;\n            color: #212529;\n            vertical-align: top;\n            border-color: #dee2e6;\n            border: solid;\n            border-radius: 10px;\n            margin: auto;\n            margin-bottom: 10px;\n        }\n\n        .table-dark {\n            color: #fff;\n            background-color: 212529;\n        }\n        thead {\n                display: table-header-group;\n                vertical-align: middle;\n                border-color: inherit;\n        }\n\n        tbody, td, tfoot, th, thead, tr {\n                border-color: inherit;\n                border-style: solid;\n                border-width: 0;\n        }\n\n            \n        .table>thead {\n            vertical-align: bottom;\n        }\n\n        table {\n            display: table;\n            border-collapse: separate;\n            box-sizing: border-box;\n            text-indent: initial;\n            border-spacing: 2px;\n        }\n        tbody, td, tfoot, th, thead, tr {\n            border-color: inherit;\n            border-style: solid;\n            border-width: 0;\n        }tr {\n            display: table-row;\n            vertical-align: inherit;\n            border-color: inherit;\n        }td {\n            display: table-cell;\n            vertical-align: inherit;\n            text-align: center;\n            padding: 5px;\n        }\n        th {\n            text-align: inherit;\n            text-align: -webkit-match-parent;\n            display: table-cell;\n            vertical-align: inherit;\n            font-weight: bold;\n            text-align: -internal-center;\n            text-align: center;\n            width: 16%;\n        }\n        \n        h1:first-child{\n            text-align:center;\n            margin:auto;\n            width:50%;\n        }";var t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}function n(e){var t,n,l,r,i,a;for(n=!0;n;){for(n=!1,t=e.rows,l=1;l<t.length-1;l++)if(a=!1,r=t[l].getElementsByTagName("TD")[1],i=t[l+1].getElementsByTagName("TD")[1],r.innerHTML.toLowerCase()<i.innerHTML.toLowerCase()){a=!0;break}a&&(t[l].parentNode.insertBefore(t[l+1],t[l]),n=!0)}}let l=document.createElement("input");l.setAttribute("type","file"),l.setAttribute("accept","text/plain"),l.click(),l.addEventListener("input",n=>{let l=new FileReader;l.onload=function(){try{e(l.result),t()}catch(e){document.open(),document.write("<h1>WOOPS SOMETHING WENT WRONG</h1>");let t=document.createElement("div");t.innerText=e.name+"\n"+e.message+"\n"+e.stack,t.setAttribute("style","    position: relative;padding: 1rem 1rem;margin-bottom: 1rem;border: 1px solid transparent;border-radius: .25rem;color: #842029;background-color: #f8d7da;border-color: #f5c2c7;"),document.body.append(t)}},l.readAsText(n.target.files[0])});let r,i,a,d,c,o=[],s=[],m=[],p=[],u=[],E=[],T=[],b=[],h=[],f=[],g=[]})();