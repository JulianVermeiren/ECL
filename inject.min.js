(function(){function e(e){function t(e,t){let n=e.slice(2,e.length);return n.unshift(t),n}function n(e){let t="| TEAM_2 ";for(let n in f[0])e.includes(f[0][n])&&(t="| TEAM_1 ");return t}a=e.split("\n").map(e=>e.split(": ")),l=a.findIndex(e=>e[1].includes("[FACEIT^] LIVE!")),o=a.slice(0,l),s=a.slice(l,a.length);const b=(e,t)=>e.reduce((e,n,l)=>n[1].includes(t)?[...e,l]:e,[]),g=e=>e[0].includes("<STEAM_1")&&(e[0].includes("<TERRORIST>")||e[0].includes("<CT>"))?e:g(t(e,e[0].concat(e[1]))),R=e=>g(String(e).split(/\"(.*?)\"/g).filter(e=>String(e).trim())),A=e=>String(e).split(/\<(.*?)\>/g).filter(e=>String(e).trim());f=s.slice(0,b(s,"switched from team <CT> to <TERRORIST>")[0]<b(s,"switched from team <TERRORIST> to <CT>")[0]?b(s,"switched from team <CT> to <TERRORIST>")[0]:b(s,"switched from team <TERRORIST> to <CT>")[0]),f=f.filter(e=>e[1].includes("<STEAM_1")&&!e[1].includes("<Spectator>")&&!e[1].includes("<BOT>")&&!e[1].includes("<Unassigned>")&&(e[1].includes("<TERRORIST>")||e[1].includes("<CT>"))&&void 0!==R(e[1])[1]),f=f.filter(e=>!R(e[1])[1].includes("say")),f=f.map(e=>[e[0],e[1].replace("<"+A(R(e[1])[0])[1]+">","")]),f=f.map(e=>R(e[1])[0]),f=[...new Set(f.filter(e=>String(e).trim()))];const k=e=>{const t=e.filter(e=>"<"+A(R(e))[2]+">"=="<CT>"),n=e.filter(e=>"<"+A(R(e))[2]+">"=="<TERRORIST>");return[t,n]};f=k(f),f=f.map(e=>e.map(e=>e.replace(e.substring(e.indexOf("<"),e.lastIndexOf(">")+1),"")));let y=0,O=b(s,'"Round_End"');for(let e=0;e<O.length;e++)u.push(s.slice(y,O[e])),y=O[e],h.push(s[O[e]+1][1].replace("[FACEIT^] ","")),O.length-1==e&&(m=s.slice(O[e],s.length));u.forEach(e=>p.push(e.filter(e=>!!e[1].includes("say")))),u.forEach(e=>x.push(e.filter(e=>{e[1].split(" attacked ")[0];let t=e[1].split(" attacked ")[1];return void 0!==t&&!!(e[1].split(" attacked ")[0].includes("<CT>")&&e[1].split(" attacked ")[1].includes("<CT>")||e[1].split(" attacked ")[0].includes("<TERRORIST>")&&e[1].split(" attacked ")[1].includes("<TERRORIST>"))}))),E=m.filter(e=>e[1].includes("say")),T=o.filter(e=>e[1].includes("say")),p=p.map(e=>e.map(e=>[e[0],e[1].replace(e[1].slice(R(e[1])[0].indexOf("<")+1,R(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"])),E=E.map(e=>[e[0],e[1].replace(e[1].slice(R(e[1])[0].indexOf("<")+1,R(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"]),T=T.map(e=>[e[0],e[1].replace(e[1].slice(R(e[1])[0].indexOf("<")+1,R(e[1])[0].lastIndexOf(">")+2),""),e[1].includes("<CT>")?"CT":"TERRORIST"]);let C=document.createElement("div"),S=document.createElement("div");S.innerText="PREGAME\n";let v=document.createElement("div"),w=document.createElement("div");w.innerText="POSTGAME\n";const I=(...e)=>e.forEach(e=>e.setAttribute("class","divECL")),M=(e,t)=>e.setAttribute("style",`display:inline;background-color:${"CT"===t?"royalblue":"indianred"};margin-left: 10px;`),$=e=>e.setAttribute("class","time");document.open(),document.write(`<h1>${p.length} ROUNDS FOUND</h1>`),I(S,v,w,C),document.body.append(C,S,v,w),i=new Map,c=new Map,r=new Map,d=new Map,f.forEach(e=>e.forEach(e=>i[`${e}`]=a.filter(t=>t[1].includes("say")&&t[1].includes(e)).map(e=>[e[0],e[1].replace(e[1].slice(R(e[1])[0].indexOf("<")+1,R(e[1])[0].lastIndexOf(">")+2),"")]))),f.forEach(e=>e.forEach(e=>c[`${e}`]=s.filter(t=>!t[1].includes("] was killed ")&&!t[1].includes("] killed other")&&t[1].includes("] killed")&&t[1].split('"')[1].includes(e)).map(e=>[e[0],e[1]]))),f.forEach(e=>e.forEach(e=>r[`${e}`]=s.filter(t=>!t[1].includes("] was killed ")&&!t[1].includes("] killed other")&&t[1].includes("] killed")&&t[1].split('"')[3].includes(e)).map(e=>[e[0],e[1]]))),f.forEach(e=>e.forEach(e=>r[`${e}`]=r[`${e}`].concat(s.filter(t=>t[1].includes("] was killed by the bomb.")&&t[1].split('"')[1].includes(e)).map(e=>[e[0],e[1]])))),f.forEach(e=>e.forEach(e=>d[`${e}`]=c[`${e}`].filter(e=>e[1].split(" killed ")[0].includes("<CT>")&&e[1].split(" killed ")[1].includes("<CT>")||e[1].split(" killed ")[0].includes("<TERRORIST>")&&e[1].split(" killed ")[1].includes("<TERRORIST>")))),f.forEach((e,t)=>{let n=document.createElement("table");var l=document.createElement("tbody");n.innerText=`TEAM_${t+1}`,e.forEach(e=>{let t=document.createElement("tr"),a=0;x.forEach(t=>t.forEach(t=>{t[1].split(" attacked ")[0].includes(e)&&a++}));var o=document.createElement("td"),s=document.createElement("td"),u=document.createElement("td"),m=document.createElement("td"),p=document.createElement("td"),E=document.createElement("td");o.innerText=e,s.innerText=i[`${e}`].length+" messages",u.innerText=a+" TEAMDAMAGES ",m.innerText=c[`${e}`].length-2*d[`${e}`].length+" KILLS ",p.innerText=r[`${e}`].length+" DEATHS ",E.innerText=d[`${e}`].length+" TEAMKILLS",t.append(o,s,u,m,p,E),l.append(t),n.setAttribute("border","2"),n.appendChild(l),n.setAttribute("style","width:50%;margin-bottom:10px;"),l.setAttribute("style","text-align:center"),o.setAttribute("style","width:100%"),t.setAttribute("class","liCursor"),t.onclick=function(){let e=document.createElement("div");window.onclick=function(t){t.target==e&&e.remove()};let t=document.createElement("span");t.setAttribute("class","close"),t.onclick=function(){e.remove()},t.innerText="X";let n=document.createElement("div");if(n.setAttribute("class","modalContent"),e.append(n),n.append(t),e.setAttribute("class","modalECL"),i[`${o.innerText}`].length>0)i[`${o.innerText}`].forEach(e=>{let t=document.createElement("p");t.innerHTML=e[1]+"\n",t.setAttribute("style","display:inline;");let l=document.createElement("br");n.append(t,l)});else{let e=document.createElement("p");e.innerText="NOTHING TO SEE #EMPTY",n.append(e)}let l=document.createElement("br");n.append(l),x.forEach(e=>e.forEach(e=>{if(e[1].split(" attacked ")[0].includes(o.innerText)){let t=document.createElement("div");t.classList.add("divider");let l=document.createElement("p");l.innerHTML=e[1]+"\n",l.setAttribute("style","display:inline;color:RED;"),n.append(l,t)}})),d[`${o.innerText}`].forEach(e=>{let t=document.createElement("div");t.classList.add("divider");let l=document.createElement("p");l.innerHTML=e[1]+"\n",l.setAttribute("style","display:inline;color:GREEN;"),n.append(l,t)}),document.body.append(e)}}),C.append(n)}),T.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let n=document.createElement("p");n.innerText=e[1],M(n,e[2]),S.append(t,n)}),p.forEach((e,t)=>{let l=document.createElement("div");if(l.innerText="ROUND "+(t+1)+" || "+h[t]+"\n",l.setAttribute("class","divChatPerRound"),e.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let i=document.createElement("p"),c=document.createElement("p");c.innerText=n(e[1]),$(c),i.innerText=e[1]+"\n",M(i,e[2]),l.append(t,c,i)}),0!=x[t]){let e=document.createElement("div");e.innerText="\nTEAMDAMAGE DETECTED\n",x[t].forEach(t=>{let n=document.createElement("p");n.innerText=t[0]+" ",$(n);let l=document.createElement("p");e.setAttribute("class","teamDamageDiv"),l.setAttribute("class","teamDamageText"),l.innerText=t[1],e.append(n,l)}),l.append(e)}v.append(l)}),E.forEach(e=>{let t=document.createElement("p");t.innerText=e[0],$(t);let n=document.createElement("p");n.innerText=e[1],M(n,e[2]),w.append(t,n)})}function t(){let e="body{\n            font-family: system-ui;\n            font-size: 19px;\n        }\n        \n        .close {\n            color: #aaaaaa;\n            float: right;\n            font-size: 28px;\n            font-weight: bold;\n        }\n        \n        .close:hover,\n        .close:focus {\n            color: #000;\n            text-decoration: none;\n            cursor: pointer;\n        }\n        \n        .time {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: inline;\n            background-color: yellow;\n        }\n        \n        .divECL {\n            margin: 10px;\n            border: black solid;\n            padding: 10px;\n        }\n        \n        .modalContent {\n            background-color: #fefefe;\n            margin: auto;\n            padding: 20px;\n            border: 1px solid #888;\n            width: 80%;\n        }\n        \n        .modalECL {\n            position: fixed;\n            z-index: 1;\n            padding-top: 100px;\n            padding-bottom: 100px;\n            left: 0;\n            top: 0;\n            bottom:0;\n            width: 100%;\n            overflow: auto;\n            background-color: rgb(0, 0, 0);\n            background-color: rgba(0, 0, 0, 0.4);\n        }\n        \n        .divChatPerRound {\n            margin: 10px;\n            padding: 10px;\n        }\n        \n        .liCursor {\n            width: max-content;\n            cursor: crosshair;\n        }\n        \n        .teamDamageDiv {\n            display: inline;\n            background-color: GREEN;\n            margin-left: 10px;\n        }\n        \n        .teamDamageText {\n            display: inline;\n            background-color: GREEN;\n            margin-left: 10px;\n        }\n        \n        .divider{\n            border-top: 6px solid red;\n            width:100%;\n        }";var t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}let n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept","text/plain"),n.click(),n.addEventListener("input",n=>{let l=new FileReader;l.onload=function(){try{e(l.result),t()}catch(e){document.open(),document.write("<h1>WOOPS SOMETHING WENT WRONG</h1>");let t=document.createElement("div");t.innerText=e.name+"\n"+e.message+"\n"+e.stack,t.setAttribute("style","    position: relative;padding: 1rem 1rem;margin-bottom: 1rem;border: 1px solid transparent;border-radius: .25rem;color: #842029;background-color: #f8d7da;border-color: #f5c2c7;"),document.body.append(t)}},l.readAsText(n.target.files[0])});let l,i,c,r,d,a=[],o=[],s=[],u=[],m=[],p=[],E=[],T=[],f=[],h=[],x=[]})();